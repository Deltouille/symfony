{% extends "basetemplate.html.twig" %}
{% block title%}

{% endblock %}

{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block body %}
<div>
    <div class="pull-right">
    </div>
    <h1>Listes des Missions</h1>

    <hr />
    {# Tableau des différentes missions #}
    <table id="missions" class="table table-striped table-bordered" style="width:100%; margin-left:auto;margin-right:auto;">
    {# En-tête des champs pour les différentes classifications #}
        <thead>
            <tr>
                <th style="border-top:0px solid black; padding-left: 9px;">Titre</th>
                <th style="border-top:0px solid black; padding-left: 9px;">Description</th>
                <th style="border-top:0px solid black; padding-left: 9px;">Nom de code</th>
                <th style="border-top:0px solid black; padding-left: 9px;">Pays</th>
                <th style="border-top:0px solid black; padding-left: 9px;">Statut</th>
                <th style="border-top:0px solid black; padding-left: 9px;">Spécialité</th>
                <th style="border-top:0px solid black; padding-left: 9px;">Date de Début</th>
                <th style="border-top:0px solid black; padding-left: 9px;">Date de Fin</th>
                <th style="border-top:0px solid black; padding-left: 9px;">Action</th>
            </tr>
        </thead>
        {# On parcours l'array envoyer par le controller pour remplir le tableau #}
        <tbody>
            {% for mission in listeMissions %}
            <tr>
                <td>{{ mission.titre }}</td>
                <td>{{ mission.description }}</td>
                <td>{{ mission.nomCode }}</td>
                <td>{{ mission.pays }}</td>
                <td>{{ mission.statut }}</td>
                <td>{{ mission.specialite }}</td>
                <td>{{ mission.dateDebut|date('Y-m-d') }}</td>
                <td>{{ mission.dateFin|date('Y-m-d') }}</td>
                <td>
                    <a href="{{ path('mission-details', {id: mission.id}) }}">
                        <i class ="glyphicon glyphicon-chevron-left"></i>
                        Details de la mission
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    {# bouton permettant d'ajouter une classification #}
    {#<div>
        <a href="{{ path('blprppe_symfony_ajoutclassification') }}" class ="btn btn-success">
            <i class ="glyphicon glyphicon-chevron-left"></i>
            Ajout d'une classification
        </a>
    </div>#}

</div>


<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/autofill/2.3.4/css/autoFill.dataTables.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.6.1/css/buttons.dataTables.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css"/>

<script src="{{ asset ('js/DataTables/dataTables.responsive.min.js') }}"></script>
<script src="{{ asset ('js/DataTables/buttons.print.min.js') }}"></script>
<script src="{{ asset ('js/DataTables/buttons.flash.min.js') }}"></script>
<script src="{{ asset ('js/DataTables/dataTables.buttons.min.js') }}"></script>
<script src="{{ asset ('js/DataTables/dataTables.autoFill.min.js') }}"></script>
<script src="{{ asset ('js/DataTables/jquery.dataTables.min.js') }}"></script>
<script src="{{ asset ('js/dataTables.bootstrap4.min.js') }}"></script>

<script>
    $('#classifications').DataTable();
</script>

</html>
{% endblock %}